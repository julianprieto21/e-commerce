---
import { CATEGORIES } from "@/lib/consts/CATEGORIES";
import { SHIRTS } from "@/lib/consts/SHIRTS";
import Hero from "@/components/Hero.astro";
import BaseLayout from "@/layouts/BaseLayout.astro";
import Shirts from "@/components/Shirts";
import Breadcrumbs from "@/components/Breadcrumbs.astro";

export async function getStaticPaths() {
  const paths = CATEGORIES.map((category) => ({
    params: { cid: category.id },
  }));
  return paths;
}

const { cid } = Astro.params;
const [category] = CATEGORIES.filter((cat) => cat.id == cid);

// const shirts = category.items.map((item) =>
//   SHIRTS.find((shirt) => shirt.id == item)
// );
---

<BaseLayout title={`Camisetas | ${category.name}`}>
  <Breadcrumbs
    breadcrumbs={[
      { label: "CategorÃ­as", href: "/", active: false },
      { label: category.name, href: `/${cid}`, active: true },
    ]}
  />
  <Hero title={category.name} subtitle={category.desc} />
  <Shirts cid={cid} client:only="react" />
</BaseLayout>
